%!PS
%%BoundingBox: 0 0 500 450

/bd{bind def}bind def
/ed{exch def}bd

/circ{
	3 0 360 arc closepath
	gsave 0 0 0 0 setcmykcolor fill grestore
	stroke
}bd

/arrow{
	6 dict begin
	/y1 ed /x1 ed
	/y0 ed /x0 ed
	/ang y1 y0 sub x1 x0 sub atan def
	gsave
	x0 y0 translate
	ang rotate
	0 0 moveto
	x1 x0 sub dup mul y1 y0 sub dup mul add sqrt
	1.5 sub
	dup 5 sub 0 lineto stroke
	0 translate
	0 0 moveto
	-10 3 lineto
	-10 -3 lineto
	closepath fill
	grestore
	end
}bd

/butterfly{
	0 50 moveto
	50 50 lineto stroke
	50 50 100 50 arrow
	100 50 moveto 150 50 lineto

	% the bottom edge is negative
	0 0 moveto
	50 0 lineto stroke
gsave [3] 0 setdash
	50 0 100 0 arrow
grestore
	100 0 moveto
	150 0 lineto

	50 50 100 0 arrow
	50 0 100 50 arrow
	stroke
	50 50 circ
	50 0 circ
	100 50 circ
	100 0 circ
}bind def

/Var{
	ti setfont
	0 -5 rmoveto
	show
}bind def

/var{ % int var
	tis setfont
	0 -5 rmoveto
	16 string cvs show
}bd

/sup{
	tis setfont
	0 15 rmoveto
	16 string cvs show
}bd

/Times-Italic findfont dup /ti exch 30 scalefont def
15 scalefont /tis exch def
ti setfont

50 50 translate

/butterfly4{
4 dict begin
/offset ed
gsave

gsave
butterfly
-20 0 moveto (f) Var offset 6 add var
-20 50 moveto (f) Var offset 2 add var
0 100 translate
butterfly
-20 0 moveto (f) Var  offset 4 add var
-20 50 moveto (f) Var  offset 0 add var
grestore

120 10 moveto (w) Var 1 sup
120 60 moveto (w) Var 0 sup

150 0 translate

gsave [3] 0 setdash
0 0 50 0 arrow
0 50 50 50 arrow
grestore
0 100 50 100 arrow
0 150 50 150 arrow

0 0 50 100 arrow
0 50 50 150 arrow
0 100 50 0 arrow
0 150 50 50 arrow stroke

50 0 moveto 80 0 rlineto
50 50 moveto 80 0 rlineto
50 100 moveto 80 0 rlineto
50 150 moveto 80 0 rlineto
stroke

0 0 circ 50 0 circ
0 50 circ 50 50 circ
0 100 circ 50 100 circ
0 150 circ 50 150 circ

grestore
end
}bd

1 butterfly4
0 200 translate
0 butterfly4

230 -200 translate

0 1 7
{
dup 50 mul 100 exch moveto
50 0 rlineto stroke

dup
dup 50 mul 50 exch 3 -1 roll
4 add 8 mod 50 mul 100 exch arrow

dup
dup 4 lt{[3] 0 setdash}{gsave [] 0 setdash}ifelse
50 mul dup 50 exch 3 -1 roll
100 exch arrow

[] 0 setdash
dup 50 mul 50 exch circ
    50 mul 100 exch circ
}for

0 1 3
{
dup 50 mul 10 add -10 exch moveto
(w) Var 3 exch sub sup
}for

50 200 translate

0 1 1
{
100 150 moveto (C)Var dup 4 mul 0 add var
100 100 moveto (C)Var dup 4 mul 1 add var
100  50 moveto (C)Var dup 4 mul 2 add var
100   0 moveto (C)Var     4 mul 3 add var
0 -200 translate
}for

showpage


